# Captains Log

"A Windows application that manages your daily to-do list and stores the log in a local folder." ‚Äì Jacob C. Ochoa, creator

Captains Log is a simple WPF desktop application for tracking daily tasks and logging time spent on each. Tasks can be tagged to specific accounts and marked as complete or incomplete. Logs are saved as CSV files, and summaries can be generated by week or by account.

## Recent Improvements

Captains Log has been enhanced for better robustness and user experience:

- **Safer File Handling** ‚Äì File read/write operations are reliable, with improved exception handling and auto-recovery for locked or missing files.
- **Error Prevention** ‚Äì Input sanitization prevents invalid time entries or malformed task lines from being logged.
- **Autosave Protection** ‚Äì The app now checks for write permissions and folder existence before attempting to save logs.
- **Calendar Sync Stability** ‚Äì Improved logic ensures that calendar updates don't break if logs are missing or corrupted.
- **More Responsive UI** ‚Äì Background thread improvements ensure the UI remains responsive during file or summary generation.

## Features

- Add tasks with optional account tags (e.g. `#DEV`) and time estimates (e.g. `@1.5`)
- View daily logs using a calendar interface
- Mark tasks as complete or incomplete
- Edit task time entries
- Enable selection mode to delete or update multiple tasks at once
- Automatically saves logs to disk in CSV format
- Generate weekly summaries or monthly account-based summaries as `.txt` files

## How to Use

1. üìù Add one task per line in the text box. Optionally include:
   - `#ACCOUNT` to tag a task to an account (defaults to `MISC`)
   - `@HOURS` to record how much time was spent  
   **Example Tasks:**
   - `ix login bug #DEV @1.5`
   - `Deploy release v2.3 #OPS @2`
   - `Team sync meeting @1`

2. ‚ûï Click "Add Tasks" to log them for the currently selected day.

3. üìÖ Use the calendar to view logs from different dates. **Days with logs are highlighted.**

4. üñ±Ô∏è Right-click on any task to mark it complete, incomplete, or delete it.

5. ‚úÖ Toggle "Selection Mode" to update time entries or batch delete/complete tasks.

6. üìä Use the summary buttons to generate:
   - A weekly summary of all logged tasks over the past 7 days
   - A monthly account summary showing time spent per account

## How to Get Started

### üë§ For Users

If you're just looking to use Captains Log without modifying the code:

1. **Download the latest release** from the [Releases](https://github.com/YOUR_USERNAME/captains-log/releases) page (once available).
2. Run the installer or executable.
3. The app will create a `Captains_Log` folder on your Desktop where logs and summaries are stored.
4. Make sure you have [.NET 8.0 Runtime](https://dotnet.microsoft.com/en-us/download/dotnet/8.0) installed on your system.

> ‚ö†Ô∏è If you get a warning from Windows, you may need to click "More info" and choose "Run anyway".

---

### üõ†Ô∏è For Developers

To clone and run the project locally:

1. Clone the repository:

   ```bash
   git clone https://github.com/YOUR_USERNAME/captains-log.git
   cd captains-log
   ```

2. Open the solution file (`CaptainsLog.sln`) in **Visual Studio 2022** or later.

3. Make sure you have the following installed:
   - [.NET 8.0 SDK](https://dotnet.microsoft.com/en-us/download/dotnet/8.0)
   - Visual Studio Workloads:
     - **.NET Desktop Development**
     - Optional: Git, XAML Hot Reload

4. Press `F5` or click **Start Debugging** to build and run the app.

## Files and Data

- Log files are saved to your Desktop under:  
  `Captains_Log/Logs/`
- Summaries are saved to:  
  `Captains_Log/Summaries/`
- Log file format:  
  `LogYYYYMMDD.csv`
- Summaries are saved as plain `.txt` files

## Requirements

- Windows 10 or later
- [.NET 8.0 Runtime](https://dotnet.microsoft.com/en-us/download/dotnet/8.0) or later

## License

This project is licensed under the MIT License. See the LICENSE file for details.
